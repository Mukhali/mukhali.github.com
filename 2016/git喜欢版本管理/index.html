<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content=noodp><meta name=author content=mukhali><link rel=next href=https://mukhali.github.io/2016/emacs%E5%96%9C%E6%AC%A2%E7%A5%9E%E5%99%A8/><link rel=canonical href=https://mukhali.github.io/2016/git%E5%96%9C%E6%AC%A2%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=manifest href=/images/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><title>Git喜欢版本管理 | 当然我在扯淡</title><meta name=title content="Git喜欢版本管理 | 当然我在扯淡"><link rel=stylesheet href=/font/iconfont.css><link rel=stylesheet href=/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mukhali.github.io"},"articleSection":"posts","name":"Git喜欢版本管理","headline":"Git喜欢版本管理","description":"Git 是一个好用的编程工具","inLanguage":"en-us","author":"mukhali","creator":"mukhali","publisher":"mukhali","accountablePerson":"mukhali","copyrightHolder":"mukhali","copyrightYear":"2016","datePublished":"2016-01-19 09:51:04 &#43;0800 CST","dateModified":"2016-01-19 09:51:04 &#43;0800 CST","url":"https://mukhali.github.io/2016/git%E5%96%9C%E6%AC%A2%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/","wordCount":"633","keywords":["Git","tool","Linux","当然我在扯淡"]}</script></head><body><div class=wrapper><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href=https://mukhali.github.io>当然我在扯淡</a></div><div class="menu navbar-right"><a class=menu-item href=/posts/>博客</a>
<a class=menu-item href=/categories/>类别</a>
<a class=menu-item href=/tags/>标签</a>
<a class=menu-item href=/about/>关于</a></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><div class=container><div class=navbar-header><div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href=https://mukhali.github.io>当然我在扯淡</a></div><div class=menu-toggle><span></span><span></span><span></span></div></div><div class=menu id=mobile-menu><a class=menu-item href=/posts/>博客</a>
<a class=menu-item href=/categories/>类别</a>
<a class=menu-item href=/tags/>标签</a>
<a class=menu-item href=/about/>关于</a></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">Git喜欢版本管理</h1><div class=post-meta>Written by <a itemprop=name href=https://mukhali.github.io rel=author>mukhali</a> with ♥
<span class=post-time>on <time datetime=2016-01-19 itemprop=datePublished>January 19, 2016</time></span>
in
<i class="iconfont icon-folder"></i><span class=post-category><a href=https://mukhali.github.io/categories/%E5%B7%A5%E5%85%B7/>工具</a></span>
|
<a href=#gitalk-container itemprop=discussionUrl><span class=gitalk-comment-count itemprop=commentCount></span></a>条评论</div></header><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#0x00-引言>0x00 引言</a></li><li><a href=#0x01-关键字>0x01 关键字</a></li><li><a href=#0x02-版本管理可以细分为>0x02 版本管理可以细分为</a></li><li><a href=#0x03-安装>0x03 安装</a></li><li><a href=#0x04-配置>0x04 配置</a></li><li><a href=#0x05-查看帮助>0x05 查看帮助</a></li><li><a href=#0x06-常用命令-查看-添加-提交-删除-找回-重置>0x06 常用命令（查看、添加、提交、删除、找回、重置）</a></li><li><a href=#0x07-查看文件的不同>0x07 查看文件的不同</a></li><li><a href=#0x08-查看提交记录>0x08 查看提交记录</a></li><li><a href=#0x09-本地分支管理>0x09 本地分支管理</a></li><li><a href=#0x10-分支合并和rebase>0x10 分支合并和rebase</a></li><li><a href=#0x11-补丁管理>0x11 补丁管理</a></li><li><a href=#0x12-暂存管理>0x12 暂存管理</a></li><li><a href=#0x13-远程分支管理>0x13 远程分支管理</a></li><li><a href=#0x14-远程仓库管理>0x14 远程仓库管理</a></li><li><a href=#0x15-创建远程仓库>0x15 创建远程仓库</a></li><li><a href=#0x16-update>0x16 UPDATE</a></li></ul></li></ul></nav></div></div><script type=text/javascript>window.onload=function(){var fix=$('.post-toc');var end=$('.post-comment');var fixTop=fix.offset().top,fixHeight=fix.height();var endTop,miss;var offsetTop=fix[0].offsetTop;$(window).scroll(function(){var docTop=Math.max(document.body.scrollTop,document.documentElement.scrollTop);if(end.length>0){endTop=end.offset().top;miss=endTop-docTop-fixHeight;}
if(fixTop<docTop){fix.css({'position':'fixed'});if((end.length>0)&&(endTop<(docTop+fixHeight))){fix.css({top:miss});}else{fix.css({top:0});}}else{fix.css({'position':'absolute'});fix.css({top:offsetTop});}})}</script><div class=post-content><img src=https://git-scm.com/images/branching-illustration@2x.png class=featured_image><h2 id=0x00-引言>0x00 引言</h2><blockquote><p>Git是一个分布式版本控制／软件配置管理软件，原是Linux内核开发者林纳斯·托瓦兹（Linus Torvalds）为更好地管理Linux内核开发而设计。本文记录了一些基本概念和基本操作，当然关于使用 Git 最重要的其实不是明白这些，而是掌握一些Git的使用模式。
当你用上了Git，其它那些版本管理系统真的不想再动了。Git是我最喜欢的工具之一，另一个就是Emacs。</p></blockquote><h2 id=0x01-关键字>0x01 关键字</h2><pre><code class=language-Bash>	HEAD：指针
	工作区
	版本库(working tree)
	暂存区(index)：add命令将文件添加到暂存区
	已跟踪(staging)（未更新、已修改、已放入暂存区）
	未跟踪(unstage)
	仓库：commit将文件从暂存区添加到仓库
</code></pre><h2 id=0x02-版本管理可以细分为>0x02 版本管理可以细分为</h2><p>本地分支管理、远程分支管理、补丁管理、暂存（index）管理、</p><h2 id=0x03-安装>0x03 安装</h2><p>如果你是在Debian，Ubuntu系统中，那么你可以通过下面命令安装：</p><pre><code class=language-Bash>    sudo apt-get install git
</code></pre><p>如果你是在Red Hat，Fedora系统中，那么你可以通过下面命令安装：</p><pre><code class=language-Bash>    sudo yum install git
</code></pre><p>我是通过下面这条命令来安装的：</p><pre><code class=language-Bash>    pacman -S git
</code></pre><h2 id=0x04-配置>0x04 配置</h2><pre><code class=language-Bash>	git config --global user.name &quot;name&quot;
	git config --global user.email &quot;name@gmail.com&quot;
	git config --global color.ui true
	git config core.ignorecase false
	git config -l                #list all the Git config
</code></pre><p>这样配置完后，保存在~/.gitconfig</p><h2 id=0x05-查看帮助>0x05 查看帮助</h2><pre><code class=language-Bash>	git help
	git help -show            #查看show命令的子命令
	git add -h                #查看git add命令的帮助文件
</code></pre><h2 id=0x06-常用命令-查看-添加-提交-删除-找回-重置>0x06 常用命令（查看、添加、提交、删除、找回、重置）</h2><pre><code class=language-Bash>	git show 356f6def9d3fb7f3b9032ff5aa4b9110d4cca87e
                 #（哈希值，可以是具体某个文件的，也可以是某一次全部提交）

	checkout                 #重写工作区
	git co（git co HEAD）     #汇总显示工作区、暂存区与HEAD的差异
	git co master            #取出master版本的HEAD
	git co -- filename       #把filename文件从HEAD中checkouut。 
                             #相当于取消自上次执行git add filename以来的本地修改。
	git co branch --filename #用branch分支filename 来替换暂存区和工作区文件。
	git co . (git co -- .)   #用暂存区的文件代替所有现有项目文件。

	git add              #命令主要用于把我们要提交的文件的信息添加到索引库(暂存区)中。
                         #当我们使用git commit时，git将依据索引库中的内容来进行文件的提交。
	git add filename    
	git add .            #将修改过的工作文件提交暂存区
	git add -u           
                      #表示 add to index only files modified or deleted and not those created
	git add -i [&lt;path&gt;]  #命令查看&lt;path&gt;中被所有修改过或已删除文件但没有提交的文件。

	git ci                 #是将那些已经add到暂存区的文件commit到库中。
	git ci filemame
	git ci .
	git ci -a              #将git add, git rm和git commit等操作都合并在一起做。
	git ci -m &quot;what u want to &quot;
	git ci -am &quot;what u want to &quot;
	git ci -amend          #?

	git rm filename          #删除文件，并从版本库中删除。
	git rm -r dire           #删除文件，并从库中移除。
	git rm filename --cached #从版本库中删除文件，但不删除文件。

	reset                    #命令可以去掉一些多余的状态和版本信息。
	git reset [--hard|soft|mixed|merge|keep] [brank or HEAD] #reset命令是有mode的。
	git reset filename
	git reset -- .
	git resert --hard         #恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改

	git revert         
      #撤销某次操作，此次操作之前和之后的commit和history都会保留，并且把这次撤销作为一次最新的提交
	git revert HEAD    #撤销前一次commit
	git revert HEAD^   #撤销前前一次commit
	git revert &lt;id&gt;
</code></pre><h2 id=0x07-查看文件的不同>0x07 查看文件的不同</h2><pre><code class=language-Bash>	git diff filename             #比较当前文件（工作区文件）和暂存区（索引区）文件的差异。
	git diff &lt;id&gt; &lt;id&gt;            #比较两次提交之间的差异
	git diff &lt;branch1&gt;..&lt;branch2&gt; # 在两个分支之间比较
	git diff --staged             # 比较暂存区和版本库差异
	git diff --cached             # 比较暂存区和版本库差异
	git diff --stat               # 仅仅比较统计信息
</code></pre><h2 id=0x08-查看提交记录>0x08 查看提交记录</h2><pre><code class=language-Bash>	git lg
	git lg &lt;file&gt;                   # 查看该文件每次提交记录
	git lg -p &lt;file&gt;                # 查看每次详细修改内容的diff
	git lg -p -2                    # 查看最近两次详细修改内容的diff
	git lg --stat                   # 查看提交统计信息
	git lg --pretty=oneline --graph #精简信息显示方式
	git lg --pretty=format:&quot;%h - %an, %ar : %s&quot; --graph
	git lg --pretty=oneline filename
</code></pre><h2 id=0x09-本地分支管理>0x09 本地分支管理</h2><pre><code class=language-Bash>	git branch -r
	git br -r           # 查看远程分支
	git br &lt;new_branch&gt; # 创建新的分支
	git br -v           # 查看各个分支最后提交信息
	git br --merged     # 查看已经被合并到当前分支的分支
	git br --no-merged  # 查看尚未被合并到当前分支的分支

	git co &lt;branch&gt;     # 切换到某个分支
	git co -b &lt;new_branch&gt; # 创建新的分支，并且切换过去
	git co -b &lt;new_branch&gt; &lt;branch&gt;  # 基于branch创建新的new_branch

	git co $id          # 把某次历史提交记录checkout出来，但无分支信息，切换到其他分支会自动删除
	git co $id -b &lt;new_branch&gt;  # 把某次历史提交记录checkout出来，创建成一个分支

	git br -d &lt;branch&gt;  # 删除某个分支
	git br -D &lt;branch&gt;  # 强制删除某个分支 (未被合并的分支被删除的时候需要强制)
</code></pre><h2 id=0x10-分支合并和rebase>0x10 分支合并和rebase</h2><pre><code class=language-Bash>	git merge &lt;branch&gt;               # 将branch分支合并到当前分支
	git merge origin/master --no-ff  # 不要Fast-Foward合并，这样可以生成merge提交

	git rebase master &lt;branch&gt;       # 将master rebase到branch，相当于：
	git co &lt;branch&gt; &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge &lt;branch&gt;
</code></pre><h2 id=0x11-补丁管理>0x11 补丁管理</h2><pre><code class=language-Bash>	git diff &gt; ../sync.patch         # 生成补丁
	git apply ../sync.patch          # 打补丁
	git apply --check ../sync.patch  # 测试补丁能否成功
</code></pre><h2 id=0x12-暂存管理>0x12 暂存管理</h2><pre><code class=language-Bash>	git stash                        # 暂存
	git stash list                   # 列所有stash
	git stash apply                  # 恢复暂存的内容
	git stash drop                   # 删除暂存区
</code></pre><h2 id=0x13-远程分支管理>0x13 远程分支管理</h2><pre><code class=language-Bash>	git pull                         # 抓取远程仓库所有分支更新并合并到本地
	git pull --no-ff                 # 抓取远程仓库所有分支更新并合并到本地，不要快进合并
	git fetch origin                 # 抓取远程仓库更新
	git merge origin/master          # 将远程主分支合并到本地当前分支
	git co --track origin/branch     # 跟踪某个远程分支创建相应的本地分支
	git co -b &lt;local_branch&gt; origin/&lt;remote_branch&gt;  # 基于远程分支创建本地分支，功能同上

	git push                         # push所有分支
	git push origin master           # 将本地主分支推到远程主分支
	git push -u origin master        
                                  # 将本地主分支推到远程(如无远程主分支则创建，用于初始化远程仓库)
	git push origin &lt;local_branch&gt;   # 创建远程分支， origin是远程仓库名
	git push origin &lt;local_branch&gt;:&lt;remote_branch&gt;  # 创建远程分支
	git push origin :&lt;remote_branch&gt;  
                                  #先删除本地分支(git br -d &lt;branch&gt;)，然后再push删除远程分支
</code></pre><h2 id=0x14-远程仓库管理>0x14 远程仓库管理</h2><pre><code class=language-Bash>	git remote -v                    # 查看远程服务器地址和仓库名称
	git remote show origin           # 查看远程服务器仓库状态
	git remote add origin git@github:robbin/robbin_site.git         
                                     # 添加远程仓库地址
	git remote set-url origin git@github.com:robbin/robbin_site.git      
                                     # 设置远程仓库地址(用于修改远程仓库地址)
	git remote rm &lt;repository&gt;       # 删除远程仓库
</code></pre><h2 id=0x15-创建远程仓库>0x15 创建远程仓库</h2><pre><code class=language-Bash>	git clone --bare robbin_site robbin_site.git  # 用带版本的项目创建纯版本仓库
	scp -r my_project.git git@git.csdn.net:~      # 将纯仓库上传到服务器上
	mkdir robbin_site.git &amp;&amp; cd robbin_site.git &amp;&amp; git --bare init # 在服务器创建纯仓库
	git remote add origin git@github.com:robbin/robbin_site.git    # 设置远程仓库地址
	git push -u origin master                                      # 客户端首次提交
	git push -u origin develop  # 首次将本地develop分支提交到远程develop分支，并且track
	git remote set-head origin master   # 设置远程仓库的HEAD指向master分支
	#也可以命令设置跟踪远程库和本地库
	git br --set-upstream master origin/master
	git br --set-upstream develop origin/develop
</code></pre><h2 id=0x16-update>0x16 UPDATE</h2><pre><code class=language-Bash>    2016-01-19（还有一部分设置没有更新）
</code></pre></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>mukhali</span></p><p class=copyright-item><span>Link:</span>
<a href=https://mukhali.github.io/2016/git%E5%96%9C%E6%AC%A2%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/><script>document.write(decodeURI(location.origin+location.pathname))</script></a></p></div><div class=post-tags><section><i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://mukhali.github.io/tags/git/>#Git</a></span>
<span class=tag><a href=https://mukhali.github.io/tags/tool/>#tool</a></span>
<span class=tag><a href=https://mukhali.github.io/tags/linux/>#Linux</a></span></section><section><a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://mukhali.github.io>home</a></span></section></div><div class=post-nav><a href=https://mukhali.github.io/2016/emacs%E5%96%9C%E6%AC%A2%E7%A5%9E%E5%99%A8/ class=next rel=next title=Emacs喜欢神器>Emacs喜欢神器&nbsp;<i class="iconfont icon-right"></i></a></div></article><div class=post-comment><div id=gitalk-container class=gitalk-container></div><link rel=stylesheet href=/lib/gitalk/gitalk-1.2.2.min.css><script src=/lib/gitalk/gitalk-1.2.2.min.js></script><script type=text/javascript>var gitalk=new Gitalk({id:'4ef8d10e5ce524956d8b35494e5e61a0',title:'Git喜欢版本管理',clientID:'2c80562a372523adfc47',clientSecret:'5557c6e2592e63b963b7087078a703729f04fdde',repo:'mukhali.github.com',owner:'mukhali',admin:['mukhali'],body:decodeURI(location.href)});gitalk.render('gitalk-container');</script><noscript>Please enable JavaScript to view the
<a href=https://github.com/gitalk/gitalk>comments powered by gitalk.</a></noscript></div></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2016 - 2019</span>
<span class=with-love><i class="iconfont icon-love"></i></span><span class=author itemprop=copyrightHolder><a href=https://mukhali.github.io>mukhali</a></span></div></footer><script src=/js/vendor_no_gallery.min.js async></script></div></body></html>